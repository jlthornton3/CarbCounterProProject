<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carb Counter Pro</title>
    <link rel="stylesheet" href="/css/materialize.min.css">
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/css/app.css">
    <script type="text/javascript" src="/js/materialize.min.js"></script>
    <link rel="manifest" href="/manifest.json"> 
</head>

<body class="grey lighten-4">

    <nav class="z-depth-0">
        <div class="nav-wrapper container">
            <a href="/">Carb Counter Pro</a>
            <span class="right grey-text text-darken-1">
                <i class="material-icons sidenav-trigger" data-target="side-menu">menu</i>
            </span>
        </div>
    </nav>
    <ul id="side-menu" class="sidenav side-menu">
        <li><a class="subheader">Carb Counter Pro</a></li>
        <li><a href="/" class="waves-effect">Home</a></li>
        <li><a href="/pages/login.html" class="waves-effect">Login</a></li>
        <li>
            <div class="divider"></div>
        </li>
        <li><a href="/pages/logentry.html" class="waves-effect">Log/View Meals</a></li>
        <li><a href="/pages/feedback.html" class="waves-effect">Feedback</a></li>
        <li><a href="/pages/fooddatabase.html" class="waves-effect">Food Database</a></li>
        <li>
            <div class="divider"></div>
        </li>
        <li><a href="/pages/profile.html" class="waves-effect">Profile</a></li>
        <li><a href="/pages/followers.html" class="waves-effect">Followers</a></li>
        </li>
    </ul>
    <div class="container">
        <div class="section">
          <div class="row">
           <div class="col s8 m6">
             <div class="card">
               <div class="card-image">
                  <img src="/img/meal.jpg">
                  <span class="card-title"></span>
                  <a id="addmealbtn" class="btn-floating halfway-fab waves-effect waves-light blue" onclick="addMeal();"><i class="material-icons">add</i></a>
                </div>
                <div class="card-content">
                 <p>Log a Meal!</p>
               </div>
             </div>
            </div>
             <div class="col s8 m6">
               <div class="card">
                 <div class="card-image">
                    <img src="/img/emptyplate.jpg">
                    <span class="card-title"></span>
                    <a id="viewmealbtn" class="btn-floating halfway-fab waves-effect waves-light blue" onclick="viewMeal();"><i class="material-icons">add</i></a>
                  </div>
                  <div class="card-content">
                   <p>View/Edit a Meal!</p>
                 </div>
               </div>
              </div>
            </div>
        </div>
    </div> 
    <div class="container">
        <div class="section">
            <div class="row">          
                <form class="col s12" id="add-meal">
                    <div class="row">
                        <div class="input-field col s6">
                            <input id="mealname" type="text" class="validate" required>
                            <label for="mealname">Meal Name</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="bg" type="text" class="validate" required>
                            <label for="bg">Blood Glucose</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="carbs" type="text" class="validate" required>
                            <label for="carbs">Carbs</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="fat" type="text" class="validate" required>
                            <label for="fat">Fat</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="protein" type="text" class="validate" required>
                            <label for="protein">Protein</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="insulin" type="text" class="validate" required>
                            <label for="insulin">Insulin Amount</label>
                        </div>
                        <div id="options" class="input-field col s6">
                            <select>
                              <option value="" disabled selected>Choose your Bolus Type</option>
                              <option value="1">Standard</option>
                              <option value="2">Extended</option>
                            </select>
                            <label>Bolus Type</label>
                        </div>
                        <!--.getSelectedValues();-->
                        <div class="input-field col s6">
                            <input id="photo" type="text" class="validate">
                            <label for="photo">Photo</label>
                        </div>
                        <div class="input-field col s12">
                            <input id="feedback" type="text" size="200" required>
                            <label for="feedback">Feedback</label>
                        </div>
                        <div class="input-field col s6">
                            <button class="btn waves-effect waves-light" type="submit" name="action">Submit</button>
                        </div>
                </form>
            </div>
        </div>
    </div>
    <div>
        <table class="highlight" id="view-meal">
                   <tr>
                      <th>Meal Name</th>
                      <th>Fat</th>
                      <th>Carbs</th>
                      <th>Protein</th>
                      <th>Insulin</th>
                      <th>Intial Feedback</th>
                      <th>TimeStamp</th>
                      <th>Edit</th>
                   </tr>
             </table>
    </div>
    <div>
        <form id="edit-meal">
        </form>
    </div>
    <br><br>
    <script type='module' src="/js/db.js"></script>
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('select');
        var instances = M.FormSelect.init(elems, options);
        });

        function addMeal() {
            if (document.getElementById('add-meal').style.display == "block"){
            document.getElementById('add-meal').style.display = 'none';
            }
            else{
            document.getElementById('view-meal').style.display = 'none';
            document.getElementById('add-meal').style.display = 'block';
            }
        }

        function viewMeal() {
            if (document.getElementById('view-meal').style.display == "block"){
            document.getElementById('view-meal').style.display = 'none';
            }
            else{
                document.getElementById('add-meal').style.display = 'none';
                document.getElementById('view-meal').style.display = 'block';
            }
        }
    </script>
    <script src="/js/app.js"></script>
    <script src="/js/ui.js"></script>
</body>
</html>